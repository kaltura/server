<?xml version="1.0" encoding="utf-8"?>
<database defaultPhpNamingMethod="underscore" heavyIndexing="false" name="propel" defaultIdMethod="native" package="plugins.drm">
	<table skipSql="false" abstract="false" name="drm_profile">
		<column primaryKey="true"  required="true" autoIncrement="true" lazyLoad="false" name="id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="partner_id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="name" type="longvarchar" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="description" type="longvarchar" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="provider" type="integer" inheritance="single" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="status" type="integer" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="license_server_url" type="longvarchar" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="default_policy" type="longvarchar" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="custom_data" type="longvarchar" />	
		<index name="partner_id_provider_status">
			<index-column name="partner_id" />
			<index-column name="provider" />
			<index-column name="status" />
		</index>
	</table>
	<table skipSql="false" abstract="false" name="drm_policy">
		<column primaryKey="true" required="true" autoIncrement="true" lazyLoad="false" name="id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="partner_id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="profile_id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="name" type="longvarchar" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="system_name" type="varchar" size="128" default="" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="description" type="longvarchar" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="provider" type="integer" inheritance="single" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="status" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="scenario" type="integer" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="license_type" type="integer" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="license_expiration_policy" type="integer" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="duration" type="integer" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="custom_data" type="longvarchar" />
		<index name="partner_id_provider_status">
			<index-column name="partner_id" />
			<index-column name="provider" />
			<index-column name="status" />
		</index>
		
	</table>	
	<table skipSql="false" abstract="false" name="drm_device">
		<column primaryKey="true" required="true" autoIncrement="true" lazyLoad="false" name="id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="partner_id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="profile_id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="userId" type="varchar" size="128"  />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="deviceId" type="varchar" size="128" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="version" type="varchar" size="128" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="platformDescriptor" type="longvarchar" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="provider" type="integer" inheritance="single" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="status" type="integer" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="custom_data" type="longvarchar" />
		<index name="partner_id_provider_status">
			<index-column name="partner_id" />
			<index-column name="provider" />
			<index-column name="status" />
		</index>
		
	</table>	
		<table skipSql="false" abstract="false" name="drm_key">
		<column primaryKey="true" required="true" autoIncrement="true" lazyLoad="false" name="id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="partner_id" type="integer" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="provider" type="integer" inheritance="single" />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="object_id" type="varchar" size="20"  />
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="object_type" type="tinyint" />		
		<column primaryKey="false" required="true" autoIncrement="false" lazyLoad="false" name="drm_key" type="varchar" size="128" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="parent_id" type="integer" />		
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="created_at" type="timestamp" />
		<column primaryKey="false" required="false" autoIncrement="false" lazyLoad="false" name="updated_at" type="timestamp" />
		<unique name="partner_id_object_id_object_type_provider">
			<unique-column name="partner_id" />
			<unique-column name="object_id" />
			<unique-column name="object_type" />
			<unique-column name="provider" />
		</unique>
	</table>	
</database>

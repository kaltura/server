/*! KMC - v6.0.11 - 2014-09-02
* https://github.com/kaltura/KMC_V2
* Copyright (c) 2014 Amir Chervinsky; Licensed GNU */
$(function(){function e(){u||(u=!0,$(".langMenuIframe, .langMenuDropdown").slideDown())}function t(){u&&(u=!1,$(".langMenuIframe, .langMenuDropdown").fadeOut())}var r="en_US";void 0!==window.kmc&&kmc.vars.language&&(r=kmc.vars.language),"unknown"!=typeof localStorage&&localStorage.lang!==void 0&&(r=localStorage.lang);var a="lang";a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=RegExp("[\\?&]"+a+"=([^&#]*)"),i=n.exec(location.search);if(null!=i){var o=decodeURIComponent(i[1].replace(/\+/g," ")),s=["en_US","de_DE","es_ES","fr_FR","ja_JP"];"unknown"!=typeof localStorage&&-1!=$.inArray(o,s)&&(r=o,localStorage.lang=o)}window.lang=r;var l='<img class="langIcon" title="Select Language"/>';$("#langIcon").replaceWith(l),$(".langIcon").attr("src","/lib/images/kmc/"+r+".png"),$("#langIcon").show();var c='<iframe class="langMenuIframe"></iframe><div class="langMenuDropdown"><div class="langMenuItem" id="en_US"><img src="/lib/images/kmc/en_US.png" class="langMenuIcon"/><span class="langMenuLabel">English</span></div><div class="langMenuItem" id="de_DE"><img src="/lib/images/kmc/de_DE.png" class="langMenuIcon"/><span class="langMenuLabel">Deutsch</span></div><div class="langMenuItem" id="es_ES"><img src="/lib/images/kmc/es_ES.png" class="langMenuIcon"/><span class="langMenuLabel">Español</span></div><div class="langMenuItem" id="fr_FR"><img src="/lib/images/kmc/fr_FR.png" class="langMenuIcon"/><span class="langMenuLabel">Français</span></div><div class="langMenuItem" id="ja_JP"><img src="/lib/images/kmc/ja_JP.png" class="langMenuIcon"/><span class="langMenuLabel">日本語</span></div></div>';$("#langMenu").replaceWith(c);var u=!1,d=null;$(".langMenuDropdown").mouseleave(function(){d=setTimeout(t,650)}),$(".langMenuDropdown").mouseenter(function(){clearTimeout(d)}),$(".langIcon").on("click",function(){u?t():e()}),$(".langMenuItem").on("click",function(e){u=!1,$(".langMenuIframe, .langMenuDropdown").css("display","none"),r!=$(e.currentTarget).attr("id")&&(r=$(e.currentTarget).attr("id"),"unknown"!=typeof localStorage&&(localStorage.lang=r),$(".langIcon").attr("src","/lib/images/kmc/"+r+".png"),document.location=location.protocol+"//"+location.host+location.pathname+location.hash,setTimeout(function(){document.location.reload(!0)},200))})});
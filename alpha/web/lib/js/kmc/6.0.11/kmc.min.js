/*! KMC - v6.0.11 - 2015-11-29
* https://github.com/kaltura/KMC_V2
* Copyright (c) 2015 Amir Chervinsky; Licensed GNU */
function openPlayer(e,t,r,a,n){n===!0&&$("#kcms")[0].alert("previewOnly from studio"),kmc.preview_embed.doPreviewEmbed("multitab_playlist",e,null,n,!0,a,!1,!1,!1)}function playlistAdded(){kmc.preview_embed.updateList(!0)}function playerAdded(){kmc.preview_embed.updateList(!1)}function md5(e){var t,r,a,n,i,o,s,l,c,u,d=function(e,t){return e<<t|e>>>32-t},h=function(e,t){var r,a,n,i,o;return n=2147483648&e,i=2147483648&t,r=1073741824&e,a=1073741824&t,o=(1073741823&e)+(1073741823&t),r&a?2147483648^o^n^i:r|a?1073741824&o?3221225472^o^n^i:1073741824^o^n^i:o^n^i},p=function(e,t,r){return e&t|~e&r},f=function(e,t,r){return e&r|t&~r},m=function(e,t,r){return e^t^r},g=function(e,t,r){return t^(e|~r)},v=function(e,t,r,a,n,i,o){return e=h(e,h(h(p(t,r,a),n),o)),h(d(e,i),t)},y=function(e,t,r,a,n,i,o){return e=h(e,h(h(f(t,r,a),n),o)),h(d(e,i),t)},b=function(e,t,r,a,n,i,o){return e=h(e,h(h(m(t,r,a),n),o)),h(d(e,i),t)},w=function(e,t,r,a,n,i,o){return e=h(e,h(h(g(t,r,a),n),o)),h(d(e,i),t)},k=function(e){for(var t,r=e.length,a=r+8,n=(a-a%64)/64,i=16*(n+1),o=Array(i-1),s=0,l=0;r>l;)t=(l-l%4)/4,s=8*(l%4),o[t]=o[t]|e.charCodeAt(l)<<s,l++;return t=(l-l%4)/4,s=8*(l%4),o[t]=o[t]|128<<s,o[i-2]=r<<3,o[i-1]=r>>>29,o},_=function(e){var t,r,a="",n="";for(r=0;3>=r;r++)t=255&e>>>8*r,n="0"+t.toString(16),a+=n.substr(n.length-2,2);return a},I=[],C=7,$=12,E=17,T=22,P=5,L=9,S=14,A=20,M=4,x=11,N=16,O=23,D=6,B=10,H=15,U=21;for(e=this.utf8_encode(e),I=k(e),s=1732584193,l=4023233417,c=2562383102,u=271733878,t=I.length,r=0;t>r;r+=16)a=s,n=l,i=c,o=u,s=v(s,l,c,u,I[r+0],C,3614090360),u=v(u,s,l,c,I[r+1],$,3905402710),c=v(c,u,s,l,I[r+2],E,606105819),l=v(l,c,u,s,I[r+3],T,3250441966),s=v(s,l,c,u,I[r+4],C,4118548399),u=v(u,s,l,c,I[r+5],$,1200080426),c=v(c,u,s,l,I[r+6],E,2821735955),l=v(l,c,u,s,I[r+7],T,4249261313),s=v(s,l,c,u,I[r+8],C,1770035416),u=v(u,s,l,c,I[r+9],$,2336552879),c=v(c,u,s,l,I[r+10],E,4294925233),l=v(l,c,u,s,I[r+11],T,2304563134),s=v(s,l,c,u,I[r+12],C,1804603682),u=v(u,s,l,c,I[r+13],$,4254626195),c=v(c,u,s,l,I[r+14],E,2792965006),l=v(l,c,u,s,I[r+15],T,1236535329),s=y(s,l,c,u,I[r+1],P,4129170786),u=y(u,s,l,c,I[r+6],L,3225465664),c=y(c,u,s,l,I[r+11],S,643717713),l=y(l,c,u,s,I[r+0],A,3921069994),s=y(s,l,c,u,I[r+5],P,3593408605),u=y(u,s,l,c,I[r+10],L,38016083),c=y(c,u,s,l,I[r+15],S,3634488961),l=y(l,c,u,s,I[r+4],A,3889429448),s=y(s,l,c,u,I[r+9],P,568446438),u=y(u,s,l,c,I[r+14],L,3275163606),c=y(c,u,s,l,I[r+3],S,4107603335),l=y(l,c,u,s,I[r+8],A,1163531501),s=y(s,l,c,u,I[r+13],P,2850285829),u=y(u,s,l,c,I[r+2],L,4243563512),c=y(c,u,s,l,I[r+7],S,1735328473),l=y(l,c,u,s,I[r+12],A,2368359562),s=b(s,l,c,u,I[r+5],M,4294588738),u=b(u,s,l,c,I[r+8],x,2272392833),c=b(c,u,s,l,I[r+11],N,1839030562),l=b(l,c,u,s,I[r+14],O,4259657740),s=b(s,l,c,u,I[r+1],M,2763975236),u=b(u,s,l,c,I[r+4],x,1272893353),c=b(c,u,s,l,I[r+7],N,4139469664),l=b(l,c,u,s,I[r+10],O,3200236656),s=b(s,l,c,u,I[r+13],M,681279174),u=b(u,s,l,c,I[r+0],x,3936430074),c=b(c,u,s,l,I[r+3],N,3572445317),l=b(l,c,u,s,I[r+6],O,76029189),s=b(s,l,c,u,I[r+9],M,3654602809),u=b(u,s,l,c,I[r+12],x,3873151461),c=b(c,u,s,l,I[r+15],N,530742520),l=b(l,c,u,s,I[r+2],O,3299628645),s=w(s,l,c,u,I[r+0],D,4096336452),u=w(u,s,l,c,I[r+7],B,1126891415),c=w(c,u,s,l,I[r+14],H,2878612391),l=w(l,c,u,s,I[r+5],U,4237533241),s=w(s,l,c,u,I[r+12],D,1700485571),u=w(u,s,l,c,I[r+3],B,2399980690),c=w(c,u,s,l,I[r+10],H,4293915773),l=w(l,c,u,s,I[r+1],U,2240044497),s=w(s,l,c,u,I[r+8],D,1873313359),u=w(u,s,l,c,I[r+15],B,4264355552),c=w(c,u,s,l,I[r+6],H,2734768916),l=w(l,c,u,s,I[r+13],U,1309151649),s=w(s,l,c,u,I[r+4],D,4149444226),u=w(u,s,l,c,I[r+11],B,3174756917),c=w(c,u,s,l,I[r+2],H,718787259),l=w(l,c,u,s,I[r+9],U,3951481745),s=h(s,a),l=h(l,n),c=h(c,i),u=h(u,o);var j=_(s)+_(l)+_(c)+_(u);return j.toLowerCase()}function utf8_encode(e){if(null===e||e===void 0)return"";var t,r,a=e+"",n="",i=0;t=r=0,i=a.length;for(var o=0;i>o;o++){var s=a.charCodeAt(o),l=null;128>s?r++:l=s>127&&2048>s?String.fromCharCode(192|s>>6)+String.fromCharCode(128|63&s):String.fromCharCode(224|s>>12)+String.fromCharCode(128|63&s>>6)+String.fromCharCode(128|63&s),null!==l&&(r>t&&(n+=a.slice(t,r)),n+=l,t=r=o+1)}return r>t&&(n+=a.slice(t,i)),n}angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),r=e.storage();r?r.get(t)?e.uses(r.get(t)):angular.isString(e.preferredLanguage())?e.uses(e.preferredLanguage()):r.set(t,e.uses()):angular.isString(e.preferredLanguage())&&e.uses(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,r,a,n,i,o,s,l,c,u,d,h,p={},f=e,m=[],g=".",v=function(e,t){if(!e&&!t)return p;if(e&&!t){if(angular.isString(e))return p[e];angular.extend(p,y(e))}else angular.isObject(p[e])||(p[e]={}),angular.extend(p[e],y(t));return this},y=function(e,t,r,a){var n,i,o;t||(t=[]),r||(r={});for(n in e)e.hasOwnProperty(n)&&(o=e[n],angular.isObject(o)?y(o,t.concat(n),r,n):(i=t.length?""+t.join(g)+g+n:n,t.length&&n===a&&(keyWithShortPath=""+t.join(g),r[keyWithShortPath]="@:"+i),r[i]=o));return r};this.translations=v,this.addInterpolation=function(e){return m.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return l=e,this},this.preferredLanguage=function(e){return e?(t=e,this):t},this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(d=e,this):d},this.translationNotFoundIndicatorRight=function(e){return e?(h=e,this):h},this.fallbackLanguage=function(e){return e?(("string"==typeof e||angular.isArray(e))&&(r=e),this):r},this.uses=function(e){if(e){if(!p[e]&&!c)throw Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return a=e,this}return a};var b=function(e){return e?(f=e,void 0):o?o+f:f};this.storageKey=b,this.useUrlLoader=function(e){return this.useLoader("$translateUrlLoader",{url:e})},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return c=e,u=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return i=e,this},this.storagePrefix=function(e){return e?(o=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return s=e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,o,f,g){var y,w=o.get(l||"$translateDefaultInterpolation"),k=!1,_={},I=function(e){if(!e)throw"No language key specified for loading.";var t=g.defer();return f.$broadcast("$translateLoadingStart"),k=!0,o.get(c)(angular.extend(u,{key:e})).then(function(r){f.$broadcast("$translateLoadingSuccess");var a={};angular.isArray(r)?angular.forEach(r,function(e){angular.extend(a,e)}):angular.extend(a,r),k=!1,t.resolve({key:e,table:a}),f.$broadcast("$translateLoadingEnd")},function(e){f.$broadcast("$translateLoadingError"),t.reject(e),f.$broadcast("$translateLoadingEnd")}),t.promise};if(i&&(y=o.get(i),!y.get||!y.set))throw Error("Couldn't use storage '"+i+"', missing get() or set() method!");m.length>0&&angular.forEach(m,function(e){var r=o.get(e);r.setLocale(t||a),_[r.getInterpolationIdentifier()]=r});var C=function(e){if(e&&r){if(angular.isArray(r)){for(var t=r.length,n=0;t>n;n++)if(a===p[r[n]])return!1;return!0}return e!==r}return!1},$=function(e,t,n){var i=a?p[a]:p,l=n?_[n]:w;if(i&&i.hasOwnProperty(e))return angular.isString(i[e])&&"@:"===i[e].substr(0,2)?$(i[e].substr(2),t,n):l.interpolate(i[e],t);s&&!k&&o.get(s)(e,a);var c;if(a&&r&&C(a)){"string"==typeof r?(c=[],c.push(r)):c=r;for(var u=c.length,f=0;u>f;f++)if(a!==p[c[f]]){var m=p[c[f]][e];if(m){var g;return l.setLocale(c[f]),g=l.interpolate(m,t),l.setLocale(a),g}}}return d&&(e=[d,e].join(" ")),h&&(e=[e,h].join(" ")),e};if($.preferredLanguage=function(){return t},$.fallbackLanguage=function(){return r},$.proposedLanguage=function(){return n},$.storage=function(){return y},$.uses=function(e){function t(e){a=e,f.$broadcast("$translateChangeSuccess"),i&&y.set($.storageKey(),a),w.setLocale(a),angular.forEach(_,function(e,t){_[t].setLocale(a)}),r.resolve(e),f.$broadcast("$translateChangeEnd")}if(!e)return a;var r=g.defer();return f.$broadcast("$translateChangeStart"),!p[e]&&c?(n=e,I(e).then(function(e){n=void 0,v(e.key,e.table),t(e.key)},function(e){n=void 0,f.$broadcast("$translateChangeError"),r.reject(e),f.$broadcast("$translateChangeEnd")})):t(e),r.promise},$.storageKey=function(){return b()},$.refresh=function(e){function t(){i.resolve(),f.$broadcast("$translateRefreshEnd")}function n(){i.reject(),f.$broadcast("$translateRefreshEnd")}if(!c)throw Error("Couldn't refresh translation table, no loader registered!");var i=g.defer();if(e)if(p.hasOwnProperty(e)){f.$broadcast("$translateRefreshStart");var o=I(e);e===a?o.then(function(r){p[e]=r.table,$.uses(a),t()},function(){f.$broadcast("$translateChangeError"),n()}):o.then(function(r){p[e]=r.table,t()},n)}else i.reject();else{f.$broadcast("$translateRefreshStart");var s=[];if(r)if("string"==typeof r)s.push(I(r));else for(var l=r.length,u=0;l>u;u++)s.push(I(r[u]));a&&s.push(I(a)),s.length>0?g.all(s).then(function(e){for(var r in p)p.hasOwnProperty(r)&&delete p[r];for(var n=0,i=e.length;i>n;n++)v(e[n].key,e[n].table);a&&$.uses(a),t()},function(e){e===a&&f.$broadcast("$translateChangeError"),n()}):t()}return i.promise},c&&(angular.equals(p,{})&&$.uses($.uses()),r))if("string"!=typeof r||p[r])for(var E=r.length,T=0;E>T;T++)p[r[T]]||I(r[T]);else I(r);return $}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,r={},a="default";return r.setLocale=function(e){t=e},r.getInterpolationIdentifier=function(){return a},r.interpolate=function(t,r){return e(t)(r)},r}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$filter","$interpolate","$parse",function(e,t,r){var a=e("translate");return{restrict:"AE",scope:!0,link:function(e,n,i){i.translateInterpolation&&(e.interpolation=i.translateInterpolation),i.$observe("translate",function(r){e.translationId=angular.equals(r,"")||void 0===r?t(n.text().replace(/^\s+|\s+$/g,""))(e.$parent):r}),i.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){e.interpolateParams=r(t)(e.$parent)})}),e.$on("$translateChangeSuccess",function(){n.html(a(e.translationId,e.interpolateParams,e.interpolation))}),e.$watch("[translationId, interpolateParams]",function(){e.translationId&&n.html(a(e.translationId,e.interpolateParams,e.interpolation))},!0)}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){return function(r,a,n){return angular.isObject(a)||(a=e(a)()),t(r,a,n)}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(r){if(!r||!r.prefix||!r.suffix)throw Error("Couldn't load static files, no prefix or suffix specified!");var a=e.defer();return t({url:[r.prefix,r.key,r.suffix].join(""),method:"GET",params:""}).success(function(e){a.resolve(e)}).error(function(){a.reject(r.key)}),a.promise}}]),this.Handlebars={},function(e){e.VERSION="1.0.rc.2",e.helpers={},e.partials={},e.registerHelper=function(e,t,r){r&&(t.not=r),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw Error("Could not find property '"+e+"'")});var t=Object.prototype.toString,r="[object Function]";e.registerHelper("blockHelperMissing",function(a,n){var i=n.inverse||function(){},o=n.fn,s=t.call(a);return s===r&&(a=a.call(this)),a===!0?o(this):a===!1||null==a?i(this):"[object Array]"===s?a.length>0?e.helpers.each(a,n):i(this):o(a)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var r=new e.K;return e.K.prototype=null,r},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,r){if(t>=e.logger.level){var a=e.logger.methodMap[t];"undefined"!=typeof console&&console[a]&&console[a].call(console,r)}}},e.log=function(t,r){e.logger.log(t,r)},e.registerHelper("each",function(t,r){var a,n=r.fn,i=r.inverse,o=0,s="";if(r.data&&(a=e.createFrame(r.data)),t&&"object"==typeof t)if(t instanceof Array)for(var l=t.length;l>o;o++)a&&(a.index=o),s+=n(t[o],{data:a});else for(var c in t)t.hasOwnProperty(c)&&(a&&(a.key=c),s+=n(t[c],{data:a}),o++);return 0===o&&(s=i(this)),s}),e.registerHelper("if",function(a,n){var i=t.call(a);return i===r&&(a=a.call(this)),!a||e.Utils.isEmpty(a)?n.inverse(this):n.fn(this)}),e.registerHelper("unless",function(t,r){var a=r.fn,n=r.inverse;return r.fn=n,r.inverse=a,e.helpers["if"].call(this,t,r)}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t,r){var a=r.data&&null!=r.data.level?parseInt(r.data.level,10):1;e.log(a,t)})}(this.Handlebars);var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;errorProps.length>t;t++)this[errorProps[t]]=e[errorProps[t]]},Handlebars.Exception.prototype=Error(),Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return""+this.string},function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,r=/[&<>"'`]/,a=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?""+e:null==e||e===!1?"":r.test(e)?e.replace(t,a):e},isEmpty:function(e){return e||0===e?"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1:!0}}}(),Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,r){var a=this.programs[e];return r?Handlebars.VM.program(t,r):a?a:a=this.programs[e]=Handlebars.VM.program(t)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(r,a){return a=a||{},e.call(t,Handlebars,r,a.helpers,a.partials,a.data)}},programWithDepth:function(e,t){var r=Array.prototype.slice.call(arguments,2);return function(a,n){return n=n||{},e.apply(this,[a,n.data||t].concat(r))}},program:function(e,t){return function(r,a){return a=a||{},e(r,a.data||t)}},noop:function(){return""},invokePartial:function(e,t,r,a,n,i){var o={helpers:a,partials:n,data:i};if(void 0===e)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(r,o);if(Handlebars.compile)return n[t]=Handlebars.compile(e,{data:void 0!==i}),n[t](r,o);throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template,function(e,t){var r=function(e,t){var r="",a=t?t+"[":"",n=t?"]":"";for(var i in e)if("object"==typeof e[i])for(var o in e[i])r+="&"+a+encodeURIComponent(i)+"."+encodeURIComponent(o)+n+"="+encodeURIComponent(e[i][o]);else r+="&"+a+encodeURIComponent(i)+n+"="+encodeURIComponent(e[i]);return r};t.registerHelper("flashVarsUrl",function(e){return r(e,"flashvars")}),t.registerHelper("flashVarsString",function(e){return r(e)}),t.registerHelper("elAttributes",function(e){var t="";for(var r in e)t+=" "+r+'="'+e[r]+'"';return t}),t.registerHelper("kalturaLinks",function(){if(!this.includeKalturaLinks)return"";var e=t.templates.kaltura_links;return e()}),t.registerHelper("seoMetadata",function(){var e=t.templates.seo_metadata;return e(this)})}(this,this.Handlebars),function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t.auto=e(function(e,t,r,a,n){function i(e){var t,a,n="";return n+='<div id="',u=r.playerId,t=u||e.playerId,typeof t===f?t=t.call(e,{hash:{}}):t===g&&(t=m.call(e,"playerId",{hash:{}})),n+=v(t)+'"',u=r.attributes,t=u||e.attributes,u=r.elAttributes,a=u||e.elAttributes,t=typeof a===f?a.call(e,t,{hash:{}}):a===g?m.call(e,"elAttributes",t,{hash:{}}):a,(t||0===t)&&(n+=t),n+=">",u=r.seoMetadata,t=u||e.seoMetadata,typeof t===f?t=t.call(e,{hash:{}}):t===g&&(t=m.call(e,"seoMetadata",{hash:{}})),(t||0===t)&&(n+=t),u=r.kalturaLinks,t=u||e.kalturaLinks,typeof t===f?t=t.call(e,{hash:{}}):t===g&&(t=m.call(e,"kalturaLinks",{hash:{}})),(t||0===t)&&(n+=t),n+="</div>\n"}function o(e){var t,a="";return a+="&entry_id=",u=r.entryId,t=u||e.entryId,typeof t===f?t=t.call(e,{hash:{}}):t===g&&(t=m.call(e,"entryId",{hash:{}})),a+=v(t)}function s(e){var t,a="";return a+="&cache_st=",u=r.cacheSt,t=u||e.cacheSt,typeof t===f?t=t.call(e,{hash:{}}):t===g&&(t=m.call(e,"cacheSt",{hash:{}})),a+=v(t)}r=r||e.helpers;var l,c,u,d,h="",p=this,f="function",m=r.helperMissing,g=void 0,v=this.escapeExpression;return u=r.includeSeoMetadata,l=u||t.includeSeoMetadata,c=r["if"],d=p.program(1,i,n),d.hash={},d.fn=d,d.inverse=p.noop,l=c.call(t,l,d),(l||0===l)&&(h+=l),h+='<script src="',u=r.scriptUrl,l=u||t.scriptUrl,typeof l===f?l=l.call(t,{hash:{}}):l===g&&(l=m.call(t,"scriptUrl",{hash:{}})),h+=v(l)+"?autoembed=true",u=r.entryId,l=u||t.entryId,c=r["if"],d=p.program(3,o,n),d.hash={},d.fn=d,d.inverse=p.noop,l=c.call(t,l,d),(l||0===l)&&(h+=l),h+="&playerId=",u=r.playerId,l=u||t.playerId,typeof l===f?l=l.call(t,{hash:{}}):l===g&&(l=m.call(t,"playerId",{hash:{}})),h+=v(l),u=r.cacheSt,l=u||t.cacheSt,c=r["if"],d=p.program(5,s,n),d.hash={},d.fn=d,d.inverse=p.noop,l=c.call(t,l,d),(l||0===l)&&(h+=l),h+="&width=",u=r.width,l=u||t.width,typeof l===f?l=l.call(t,{hash:{}}):l===g&&(l=m.call(t,"width",{hash:{}})),h+=v(l)+"&height=",u=r.height,l=u||t.height,typeof l===f?l=l.call(t,{hash:{}}):l===g&&(l=m.call(t,"height",{hash:{}})),h+=v(l),u=r.flashVars,l=u||t.flashVars,u=r.flashVarsUrl,c=u||t.flashVarsUrl,l=typeof c===f?c.call(t,l,{hash:{}}):c===g?m.call(t,"flashVarsUrl",l,{hash:{}}):c,(l||0===l)&&(h+=l),h+='"></script>'}),t.dynamic=e(function(e,t,r){r=r||e.helpers;var a,n,i,o="",s="function",l=r.helperMissing,c=void 0,u=this.escapeExpression;return o+='<script src="',i=r.scriptUrl,a=i||t.scriptUrl,typeof a===s?a=a.call(t,{hash:{}}):a===c&&(a=l.call(t,"scriptUrl",{hash:{}})),o+=u(a)+'"></script>\n<div id="',i=r.playerId,a=i||t.playerId,typeof a===s?a=a.call(t,{hash:{}}):a===c&&(a=l.call(t,"playerId",{hash:{}})),o+=u(a)+'"',i=r.attributes,a=i||t.attributes,i=r.elAttributes,n=i||t.elAttributes,a=typeof n===s?n.call(t,a,{hash:{}}):n===c?l.call(t,"elAttributes",a,{hash:{}}):n,(a||0===a)&&(o+=a),o+=">",i=r.seoMetadata,a=i||t.seoMetadata,typeof a===s?a=a.call(t,{hash:{}}):a===c&&(a=l.call(t,"seoMetadata",{hash:{}})),(a||0===a)&&(o+=a),i=r.kalturaLinks,a=i||t.kalturaLinks,typeof a===s?a=a.call(t,{hash:{}}):a===c&&(a=l.call(t,"kalturaLinks",{hash:{}})),(a||0===a)&&(o+=a),o+="</div>\n<script>\nkWidget.",i=r.embedMethod,a=i||t.embedMethod,typeof a===s?a=a.call(t,{hash:{}}):a===c&&(a=l.call(t,"embedMethod",{hash:{}})),o+=u(a)+"(",i=r.kWidgetObject,a=i||t.kWidgetObject,typeof a===s?a=a.call(t,{hash:{}}):a===c&&(a=l.call(t,"kWidgetObject",{hash:{}})),(a||0===a)&&(o+=a),o+=");\n</script>"}),t.iframe=e(function(e,t,r,a,n){function i(e){var t,a="";return a+="&entry_id=",l=r.entryId,t=l||e.entryId,typeof t===h?t=t.call(e,{hash:{}}):t===f&&(t=p.call(e,"entryId",{hash:{}})),a+=m(t)}r=r||e.helpers;var o,s,l,c,u="",d=this,h="function",p=r.helperMissing,f=void 0,m=this.escapeExpression;return u+='<iframe src="',l=r.protocol,o=l||t.protocol,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"protocol",{hash:{}})),u+=m(o)+"://",l=r.host,o=l||t.host,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"host",{hash:{}})),u+=m(o)+"/p/",l=r.partnerId,o=l||t.partnerId,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"partnerId",{hash:{}})),u+=m(o)+"/sp/",l=r.partnerId,o=l||t.partnerId,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"partnerId",{hash:{}})),u+=m(o)+"00/embedIframeJs/uiconf_id/",l=r.uiConfId,o=l||t.uiConfId,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"uiConfId",{hash:{}})),u+=m(o)+"/partner_id/",l=r.partnerId,o=l||t.partnerId,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"partnerId",{hash:{}})),u+=m(o)+"?iframeembed=true&playerId=",l=r.playerId,o=l||t.playerId,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"playerId",{hash:{}})),u+=m(o),l=r.entryId,o=l||t.entryId,s=r["if"],c=d.program(1,i,n),c.hash={},c.fn=c,c.inverse=d.noop,o=s.call(t,o,c),(o||0===o)&&(u+=o),l=r.flashVars,o=l||t.flashVars,l=r.flashVarsUrl,s=l||t.flashVarsUrl,o=typeof s===h?s.call(t,o,{hash:{}}):s===f?p.call(t,"flashVarsUrl",o,{hash:{}}):s,(o||0===o)&&(u+=o),u+='" width="',l=r.width,o=l||t.width,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"width",{hash:{}})),u+=m(o)+'" height="',l=r.height,o=l||t.height,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"height",{hash:{}})),u+=m(o)+'" allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder="0"',l=r.attributes,o=l||t.attributes,l=r.elAttributes,s=l||t.elAttributes,o=typeof s===h?s.call(t,o,{hash:{}}):s===f?p.call(t,"elAttributes",o,{hash:{}}):s,(o||0===o)&&(u+=o),u+=">",l=r.seoMetadata,o=l||t.seoMetadata,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"seoMetadata",{hash:{}})),(o||0===o)&&(u+=o),l=r.kalturaLinks,o=l||t.kalturaLinks,typeof o===h?o=o.call(t,{hash:{}}):o===f&&(o=p.call(t,"kalturaLinks",{hash:{}})),(o||0===o)&&(u+=o),u+="</iframe>"}),t.kaltura_links=e(function(e,t,r){return r=r||e.helpers,'<a href="http://corp.kaltura.com/products/video-platform-features">Video Platform</a>\n<a href="http://corp.kaltura.com/Products/Features/Video-Management">Video Management</a> \n<a href="http://corp.kaltura.com/Video-Solutions">Video Solutions</a>\n<a href="http://corp.kaltura.com/Products/Features/Video-Player">Video Player</a>'}),t.legacy=e(function(e,t,r,a,n){function i(e){var t,a="";return a+='<script src="',c=r.scriptUrl,t=c||e.scriptUrl,typeof t===p?t=t.call(e,{hash:{}}):t===m&&(t=f.call(e,"scriptUrl",{hash:{}})),a+=g(t)+'"></script>\n'}function o(e){var t,a="";return a+='\n	<a rel="media:thumbnail" href="',c=r.entryMeta,t=c||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.thumbnailUrl,typeof t===p?t=t.call(e,{hash:{}}):t===m&&(t=f.call(e,"entryMeta.thumbnailUrl",{hash:{}})),a+=g(t)+'"></a>\n	<span property="dc:description" content="',c=r.entryMeta,t=c||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.description,typeof t===p?t=t.call(e,{hash:{}}):t===m&&(t=f.call(e,"entryMeta.description",{hash:{}})),a+=g(t)+'"></span>\n	<span property="media:title" content="',c=r.entryMeta,t=c||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.name,typeof t===p?t=t.call(e,{hash:{}}):t===m&&(t=f.call(e,"entryMeta.name",{hash:{}})),a+=g(t)+'"></span>\n	<span property="media:width" content="',c=r.width,t=c||e.width,typeof t===p?t=t.call(e,{hash:{}}):t===m&&(t=f.call(e,"width",{hash:{}})),a+=g(t)+'"></span>\n	<span property="media:height" content="',c=r.height,t=c||e.height,typeof t===p?t=t.call(e,{hash:{}}):t===m&&(t=f.call(e,"height",{hash:{}})),a+=g(t)+'"></span>\n	<span property="media:type" content="application/x-shockwave-flash"></span>	\n	'}r=r||e.helpers;var s,l,c,u,d="",h=this,p="function",f=r.helperMissing,m=void 0,g=this.escapeExpression;return c=r.includeHtml5Library,s=c||t.includeHtml5Library,l=r["if"],u=h.program(1,i,n),u.hash={},u.fn=u,u.inverse=h.noop,s=l.call(t,s,u),(s||0===s)&&(d+=s),d+='<object id="',c=r.playerId,s=c||t.playerId,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"playerId",{hash:{}})),d+=g(s)+'" name="',c=r.playerId,s=c||t.playerId,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"playerId",{hash:{}})),d+=g(s)+'" type="application/x-shockwave-flash" allowFullScreen="true" allowNetworking="all" allowScriptAccess="always" height="',c=r.height,s=c||t.height,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"height",{hash:{}})),d+=g(s)+'" width="',c=r.width,s=c||t.width,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"width",{hash:{}})),d+=g(s)+'" bgcolor="#000000"',c=r.attributes,s=c||t.attributes,c=r.elAttributes,l=c||t.elAttributes,s=typeof l===p?l.call(t,s,{hash:{}}):l===m?f.call(t,"elAttributes",s,{hash:{}}):l,(s||0===s)&&(d+=s),d+=' data="',c=r.swfUrl,s=c||t.swfUrl,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"swfUrl",{hash:{}})),d+=g(s)+'">\n	<param name="allowFullScreen" value="true" />\n	<param name="allowNetworking" value="all" />\n	<param name="allowScriptAccess" value="always" />\n	<param name="bgcolor" value="#000000" />\n	<param name="flashVars" value="',c=r.flashVars,s=c||t.flashVars,c=r.flashVarsString,l=c||t.flashVarsString,s=typeof l===p?l.call(t,s,{hash:{}}):l===m?f.call(t,"flashVarsString",s,{hash:{}}):l,(s||0===s)&&(d+=s),d+='" />\n	<param name="movie" value="',c=r.swfUrl,s=c||t.swfUrl,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"swfUrl",{hash:{}})),d+=g(s)+'" />\n	',c=r.includeSeoMetadata,s=c||t.includeSeoMetadata,l=r["if"],u=h.program(3,o,n),u.hash={},u.fn=u,u.inverse=h.noop,s=l.call(t,s,u),(s||0===s)&&(d+=s),c=r.kalturaLinks,s=c||t.kalturaLinks,typeof s===p?s=s.call(t,{hash:{}}):s===m&&(s=f.call(t,"kalturaLinks",{hash:{}})),(s||0===s)&&(d+=s),d+="\n</object>"}),t.seo_metadata=e(function(e,t,r,a,n){function i(e){var t,a="";return a+='\n<span itemprop="name" content="',l=r.entryMeta,t=l||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.name,typeof t===d?t=t.call(e,{hash:{}}):t===p&&(t=h.call(e,"entryMeta.name",{hash:{}})),a+=f(t)+'"></span>\n<span itemprop="description" content="',l=r.entryMeta,t=l||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.description,typeof t===d?t=t.call(e,{hash:{}}):t===p&&(t=h.call(e,"entryMeta.description",{hash:{}})),a+=f(t)+'"></span>\n<span itemprop="duration" content="',l=r.entryMeta,t=l||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.duration,typeof t===d?t=t.call(e,{hash:{}}):t===p&&(t=h.call(e,"entryMeta.duration",{hash:{}})),a+=f(t)+'"></span>\n<span itemprop="thumbnail" content="',l=r.entryMeta,t=l||e.entryMeta,t=null===t||void 0===t||t===!1?t:t.thumbnailUrl,typeof t===d?t=t.call(e,{hash:{}}):t===p&&(t=h.call(e,"entryMeta.thumbnailUrl",{hash:{}})),a+=f(t)+'"></span>\n<span itemprop="width" content="',l=r.width,t=l||e.width,typeof t===d?t=t.call(e,{hash:{}}):t===p&&(t=h.call(e,"width",{hash:{}})),a+=f(t)+'"></span>\n<span itemprop="height" content="',l=r.height,t=l||e.height,typeof t===d?t=t.call(e,{hash:{}}):t===p&&(t=h.call(e,"height",{hash:{}})),a+=f(t)+'"></span>\n'}r=r||e.helpers;var o,s,l,c,u=this,d="function",h=r.helperMissing,p=void 0,f=this.escapeExpression;return l=r.includeSeoMetadata,o=l||t.includeSeoMetadata,s=r["if"],c=u.program(1,i,n),c.hash={},c.fn=c,c.inverse=u.noop,o=s.call(t,o,c),o||0===o?o:""})}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),r=t.length>>>0;if(0===r)return-1;var a=0;if(arguments.length>1&&(a=Number(arguments[1]),a!==a?a=0:0!==a&&1/0!==a&&a!==-1/0&&(a=(a>0||-1)*Math.floor(Math.abs(a)))),a>=r)return-1;for(var n=a>=0?a:Math.max(r-Math.abs(a),0);r>n;n++)if(n in t&&t[n]===e)return n;return-1}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=r.length;return function(n){if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError("Object.keys called on non-object");var i=[];for(var o in n)e.call(n,o)&&i.push(o);if(t)for(var s=0;a>s;s++)e.call(n,r[s])&&i.push(r[s]);return i}}()),function(e,t){var r=function(e){this.init(e)};r.prototype={types:["auto","dynamic","thumb","iframe","legacy"],required:["widgetId","partnerId","uiConfId"],defaults:{embedType:"auto",playerId:"kaltura_player",protocol:"http",host:"www.kaltura.com",securedHost:"www.kaltura.com",widgetId:null,partnerId:null,cacheSt:null,uiConfId:null,entryId:null,entryMeta:{},width:400,height:330,attributes:{},flashVars:{},includeKalturaLinks:!0,includeSeoMetadata:!1,includeHtml5Library:!0},extend:function(e,t){for(var r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r]);return e},isNull:function(e){return e.length&&e.length>0?!1:e.length&&0===e.length?!0:"object"==typeof e?Object.keys(e).length>0?!1:!0:!e},init:function(e){if(e=e||{},this.defaults,typeof Handlebars===t)throw"Handlebars is not defined, please include Handlebars.js before this script";return"object"==typeof e&&(this.options=this.extend(e,this.defaults)),!this.config("widgetId")&&this.config("partnerId")&&this.config("widgetId","_"+this.config("partnerId")),this},config:function(e,r){return r===t&&"string"==typeof e&&this.options.hasOwnProperty(e)?this.options[e]:e===t&&r===t?this.options:("string"==typeof e&&r!==t&&(this.options[e]=r),null)},checkRequiredParams:function(e){var t=this.required.length,r=0;for(r;t>r;r++)if(this.isNull(e[this.required[r]]))throw"Missing required parameter: "+this.required[r]},checkValidType:function(e){var t=-1!==this.types.indexOf(e)?!0:!1;if(!t)throw"Embed type: "+e+" is not valid. Available types: "+this.types.join(",")},getTemplate:function(e){return e="thumb"==e?"dynamic":e,e&&Handlebars.templates&&Handlebars.templates[e]?Handlebars.templates[e]:null},isKWidgetEmbed:function(e){return"dynamic"==e||"thumb"==e?!0:!1},getHost:function(e){return"http"===e.protocol?e.host:e.securedHost},getScriptUrl:function(e){return e.protocol+"://"+this.getHost(e)+"/p/"+e.partnerId+"/sp/"+e.partnerId+"00/embedIframeJs/uiconf_id/"+e.uiConfId+"/partner_id/"+e.partnerId},getSwfUrl:function(e){var t=e.cacheSt?"/cache_st/"+e.cacheSt:"",r=e.entryId?"/entry_id/"+e.entryId:"";return e.protocol+"://"+this.getHost(e)+"/index.php/kwidget"+t+"/wid/"+e.widgetId+"/uiconf_id/"+e.uiConfId+r},getAttributes:function(e){var t={};return(this.isKWidgetEmbed(e.embedType)||e.includeSeoMetadata)&&(t.style="width: "+e.width+"px; height: "+e.height+"px;"),e.includeSeoMetadata&&("legacy"==e.embedType?(t["xmlns:dc"]="http://purl.org/dc/terms/",t["xmlns:media"]="http://search.yahoo.com/searchmonkey/media/",t.rel="media:video",t.resource=this.getSwfUrl(e)):(t.itemprop="video",t["itemscope itemtype"]="http://schema.org/VideoObject")),t},getEmbedObject:function(e){var t={targetId:e.playerId,wid:e.widgetId,uiconf_id:e.uiConfId,flashvars:e.flashVars};return e.cacheSt&&(t.cache_st=e.cacheSt),e.entryId&&(t.entry_id=e.entryId),JSON.stringify(t,null,2)},getCode:function(e){var r=e===t?{}:this.extend({},e);r=this.extend(r,this.config()),!r.widgetId&&r.partnerId&&(r.widgetId="_"+r.partnerId),this.checkRequiredParams(r),this.checkValidType(r.embedType);var a=this.getTemplate(r.embedType);if(!a)throw"Template: "+r.embedType+" is not defined as Handlebars template";var n={host:this.getHost(r),scriptUrl:this.getScriptUrl(r),attributes:this.getAttributes(r)};return"legacy"===r.embedType&&(n.swfUrl=this.getSwfUrl(r)),this.isKWidgetEmbed(r.embedType)&&(n.embedMethod="dynamic"==r.embedType?"embed":"thumbEmbed",n.kWidgetObject=this.getEmbedObject(r)),n=this.extend(n,r),a(n)}},e.kEmbedCodeGenerator=r}(this),function(e){e.fn.qrcode=function(t){function r(e){this.mode=s.MODE_8BIT_BYTE,this.data=e}function a(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw Error(e.length+"/"+t);for(var r=0;e.length>r&&0==e[r];)r++;this.num=Array(e.length-r+t);for(var a=0;e.length-r>a;a++)this.num[a]=e[a+r]}function i(e,t){this.totalCount=e,this.dataCount=t}function o(){this.buffer=[],this.length=0}r.prototype={getLength:function(){return this.data.length},write:function(e){for(var t=0;this.data.length>t;t++)e.put(this.data.charCodeAt(t),8)
}},a.prototype={addData:function(e){var t=new r(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(0>e||e>=this.moduleCount||0>t||t>=this.moduleCount)throw Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){var e=1;for(e=1;40>e;e++){for(var t=i.getRSBlocks(e,this.errorCorrectLevel),r=new o,a=0,n=0;t.length>n;n++)a+=t[n].dataCount;for(var n=0;this.dataList.length>n;n++){var s=this.dataList[n];r.put(s.mode,4),r.put(s.getLength(),u.getLengthInBits(s.mode,e)),s.write(r)}if(8*a>=r.getLengthInBits())break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var r=0;this.moduleCount>r;r++){this.modules[r]=Array(this.moduleCount);for(var n=0;this.moduleCount>n;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;7>=r;r++)if(!(-1>=e+r||e+r>=this.moduleCount))for(var a=-1;7>=a;a++)-1>=t+a||t+a>=this.moduleCount||(this.modules[e+r][t+a]=r>=0&&6>=r&&(0==a||6==a)||a>=0&&6>=a&&(0==r||6==r)||r>=2&&4>=r&&a>=2&&4>=a?!0:!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;8>r;r++){this.makeImpl(!0,r);var a=u.getLostPoint(this);(0==r||e>a)&&(e=a,t=r)}return t},createMovieClip:function(e,t,r){var a=e.createEmptyMovieClip(t,r),n=1;this.make();for(var i=0;this.modules.length>i;i++)for(var o=i*n,s=0;this.modules[i].length>s;s++){var l=s*n,c=this.modules[i][s];c&&(a.beginFill(0,100),a.moveTo(l,o),a.lineTo(l+n,o),a.lineTo(l+n,o+n),a.lineTo(l,o+n),a.endFill())}return a},setupTimingPattern:function(){for(var e=8;this.moduleCount-8>e;e++)null==this.modules[e][6]&&(this.modules[e][6]=0==e%2);for(var t=8;this.moduleCount-8>t;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var e=u.getPatternPosition(this.typeNumber),t=0;e.length>t;t++)for(var r=0;e.length>r;r++){var a=e[t],n=e[r];if(null==this.modules[a][n])for(var i=-2;2>=i;i++)for(var o=-2;2>=o;o++)this.modules[a+i][n+o]=-2==i||2==i||-2==o||2==o||0==i&&0==o?!0:!1}},setupTypeNumber:function(e){for(var t=u.getBCHTypeNumber(this.typeNumber),r=0;18>r;r++){var a=!e&&1==(1&t>>r);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=a}for(var r=0;18>r;r++){var a=!e&&1==(1&t>>r);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=a}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,a=u.getBCHTypeInfo(r),n=0;15>n;n++){var i=!e&&1==(1&a>>n);6>n?this.modules[n][8]=i:8>n?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(var n=0;15>n;n++){var i=!e&&1==(1&a>>n);8>n?this.modules[8][this.moduleCount-n-1]=i:9>n?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,a=this.moduleCount-1,n=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var s=0;2>s;s++)if(null==this.modules[a][o-s]){var l=!1;e.length>i&&(l=1==(1&e[i]>>>n));var c=u.getMask(t,a,o-s);c&&(l=!l),this.modules[a][o-s]=l,n--,-1==n&&(i++,n=7)}if(a+=r,0>a||a>=this.moduleCount){a-=r,r=-r;break}}}},a.PAD0=236,a.PAD1=17,a.createData=function(e,t,r){for(var n=i.getRSBlocks(e,t),s=new o,l=0;r.length>l;l++){var c=r[l];s.put(c.mode,4),s.put(c.getLength(),u.getLengthInBits(c.mode,e)),c.write(s)}for(var d=0,l=0;n.length>l;l++)d+=n[l].dataCount;if(s.getLengthInBits()>8*d)throw Error("code length overflow. ("+s.getLengthInBits()+">"+8*d+")");for(8*d>=s.getLengthInBits()+4&&s.put(0,4);0!=s.getLengthInBits()%8;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*d)break;if(s.put(a.PAD0,8),s.getLengthInBits()>=8*d)break;s.put(a.PAD1,8)}return a.createBytes(s,n)},a.createBytes=function(e,t){for(var r=0,a=0,i=0,o=Array(t.length),s=Array(t.length),l=0;t.length>l;l++){var c=t[l].dataCount,d=t[l].totalCount-c;a=Math.max(a,c),i=Math.max(i,d),o[l]=Array(c);for(var h=0;o[l].length>h;h++)o[l][h]=255&e.buffer[h+r];r+=c;var p=u.getErrorCorrectPolynomial(d),f=new n(o[l],p.getLength()-1),m=f.mod(p);s[l]=Array(p.getLength()-1);for(var h=0;s[l].length>h;h++){var g=h+m.getLength()-s[l].length;s[l][h]=g>=0?m.get(g):0}}for(var v=0,h=0;t.length>h;h++)v+=t[h].totalCount;for(var y=Array(v),b=0,h=0;a>h;h++)for(var l=0;t.length>l;l++)o[l].length>h&&(y[b++]=o[l][h]);for(var h=0;i>h;h++)for(var l=0;t.length>l;l++)s[l].length>h&&(y[b++]=s[l][h]);return y};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},c={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;u.getBCHDigit(t)-u.getBCHDigit(u.G15)>=0;)t^=u.G15<<u.getBCHDigit(t)-u.getBCHDigit(u.G15);return(e<<10|t)^u.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;u.getBCHDigit(t)-u.getBCHDigit(u.G18)>=0;)t^=u.G18<<u.getBCHDigit(t)-u.getBCHDigit(u.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return u.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case c.PATTERN000:return 0==(t+r)%2;case c.PATTERN001:return 0==t%2;case c.PATTERN010:return 0==r%3;case c.PATTERN011:return 0==(t+r)%3;case c.PATTERN100:return 0==(Math.floor(t/2)+Math.floor(r/3))%2;case c.PATTERN101:return 0==t*r%2+t*r%3;case c.PATTERN110:return 0==(t*r%2+t*r%3)%2;case c.PATTERN111:return 0==(t*r%3+(t+r)%2)%2;default:throw Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),r=0;e>r;r++)t=t.multiply(new n([1,d.gexp(r)],0));return t},getLengthInBits:function(e,t){if(t>=1&&10>t)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:return 8;case s.MODE_KANJI:return 8;default:throw Error("mode:"+e)}else if(27>t)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw Error("mode:"+e)}else{if(!(41>t))throw Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,a=0;t>a;a++)for(var n=0;t>n;n++){for(var i=0,o=e.isDark(a,n),s=-1;1>=s;s++)if(!(0>a+s||a+s>=t))for(var l=-1;1>=l;l++)0>n+l||n+l>=t||(0!=s||0!=l)&&o==e.isDark(a+s,n+l)&&i++;i>5&&(r+=3+i-5)}for(var a=0;t-1>a;a++)for(var n=0;t-1>n;n++){var c=0;e.isDark(a,n)&&c++,e.isDark(a+1,n)&&c++,e.isDark(a,n+1)&&c++,e.isDark(a+1,n+1)&&c++,(0==c||4==c)&&(r+=3)}for(var a=0;t>a;a++)for(var n=0;t-6>n;n++)e.isDark(a,n)&&!e.isDark(a,n+1)&&e.isDark(a,n+2)&&e.isDark(a,n+3)&&e.isDark(a,n+4)&&!e.isDark(a,n+5)&&e.isDark(a,n+6)&&(r+=40);for(var n=0;t>n;n++)for(var a=0;t-6>a;a++)e.isDark(a,n)&&!e.isDark(a+1,n)&&e.isDark(a+2,n)&&e.isDark(a+3,n)&&e.isDark(a+4,n)&&!e.isDark(a+5,n)&&e.isDark(a+6,n)&&(r+=40);for(var u=0,n=0;t>n;n++)for(var a=0;t>a;a++)e.isDark(a,n)&&u++;var d=Math.abs(100*u/t/t-50)/5;return r+=10*d}},d={glog:function(e){if(1>e)throw Error("glog("+e+")");return d.LOG_TABLE[e]},gexp:function(e){for(;0>e;)e+=255;for(;e>=256;)e-=255;return d.EXP_TABLE[e]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},h=0;8>h;h++)d.EXP_TABLE[h]=1<<h;for(var h=8;256>h;h++)d.EXP_TABLE[h]=d.EXP_TABLE[h-4]^d.EXP_TABLE[h-5]^d.EXP_TABLE[h-6]^d.EXP_TABLE[h-8];for(var h=0;255>h;h++)d.LOG_TABLE[d.EXP_TABLE[h]]=h;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=Array(this.getLength()+e.getLength()-1),r=0;this.getLength()>r;r++)for(var a=0;e.getLength()>a;a++)t[r+a]^=d.gexp(d.glog(this.get(r))+d.glog(e.get(a)));return new n(t,0)},mod:function(e){if(0>this.getLength()-e.getLength())return this;for(var t=d.glog(this.get(0))-d.glog(e.get(0)),r=Array(this.getLength()),a=0;this.getLength()>a;a++)r[a]=this.get(a);for(var a=0;e.getLength()>a;a++)r[a]^=d.gexp(d.glog(e.get(a))+t);return new n(r,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var r=i.getRsBlockTable(e,t);if(void 0==r)throw Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var a=r.length/3,n=[],o=0;a>o;o++)for(var s=r[3*o+0],l=r[3*o+1],c=r[3*o+2],u=0;s>u;u++)n.push(new i(l,c));return n},i.getRsBlockTable=function(e,t){switch(t){case l.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return void 0}},o.prototype={get:function(e){var t=Math.floor(e/8);return 1==(1&this.buffer[t]>>>7-e%8)},put:function(e,t){for(var r=0;t>r;r++)this.putBit(1==(1&e>>>t-r-1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);t>=this.buffer.length&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},"string"==typeof t&&(t={text:t}),t=e.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:l.H,background:"#ffffff",foreground:"#000000"},t);var p=function(){var e=new a(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var r=document.createElement("canvas");r.width=t.width,r.height=t.height;for(var n=r.getContext("2d"),i=t.width/e.getModuleCount(),o=t.height/e.getModuleCount(),s=0;e.getModuleCount()>s;s++)for(var l=0;e.getModuleCount()>l;l++){n.fillStyle=e.isDark(s,l)?t.foreground:t.background;var c=Math.ceil((l+1)*i)-Math.floor(l*i),u=Math.ceil((s+1)*i)-Math.floor(s*i);n.fillRect(Math.round(l*i),Math.round(s*o),c,u)}return r},f=function(){var r=new a(t.typeNumber,t.correctLevel);r.addData(t.text),r.make();for(var n=e("<table></table>").css("width",t.width+"px").css("height",t.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",t.background),i=t.width/r.getModuleCount(),o=t.height/r.getModuleCount(),s=0;r.getModuleCount()>s;s++)for(var l=e("<tr></tr>").css("height",o+"px").appendTo(n),c=0;r.getModuleCount()>c;c++)e("<td></td>").css("width",i+"px").css("background-color",r.isDark(s,c)?t.foreground:t.background).appendTo(l);return n};return this.each(function(){var r="canvas"==t.render?p():f();e(r).appendTo(this)})}}(jQuery),window.XDomainRequest&&jQuery.ajaxTransport(function(e){if(e.crossDomain&&e.async){e.timeout&&(e.xdrTimeout=e.timeout,delete e.timeout);var t;return{send:function(r,a){function n(e,r,n,i){t.onload=t.onerror=t.ontimeout=jQuery.noop,t=void 0,a(e,r,n,i)}t=new XDomainRequest,t.onload=function(){n(200,"OK",{text:t.responseText},"Content-Type: "+t.contentType)},t.onerror=function(){n(404,"Not Found")},t.onprogress=jQuery.noop,t.ontimeout=function(){n(0,"timeout")},t.timeout=e.xdrTimeout||Number.MAX_VALUE,t.open(e.type,e.url),t.send(e.hasContent&&e.data||null)},abort:function(){t&&(t.onerror=jQuery.noop,t.abort())}}}}),function(){"use strict";var e,t=function(e,t){var r=e.style[t];if(e.currentStyle?r=e.currentStyle[t]:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),"auto"==r&&"cursor"==t)for(var a=["a"],n=0;a.length>n;n++)if(e.tagName.toLowerCase()==a[n])return"pointer";return r},r=function(e){if(h.prototype._singleton){e||(e=window.event);var t;this!==window?t=this:e.target?t=e.target:e.srcElement&&(t=e.srcElement),h.prototype._singleton.setCurrent(t)}},a=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&e.attachEvent("on"+t,r)},n=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&e.detachEvent("on"+t,r)},i=function(e,t){if(e.addClass)return e.addClass(t),e;if(t&&"string"==typeof t){var r=(t||"").split(/\s+/);if(1===e.nodeType)if(e.className){for(var a=" "+e.className+" ",n=e.className,i=0,o=r.length;o>i;i++)0>a.indexOf(" "+r[i]+" ")&&(n+=" "+r[i]);e.className=n.replace(/^\s+|\s+$/g,"")}else e.className=t}return e},o=function(e,t){if(e.removeClass)return e.removeClass(t),e;if(t&&"string"==typeof t||void 0===t){var r=(t||"").split(/\s+/);if(1===e.nodeType&&e.className)if(t){for(var a=(" "+e.className+" ").replace(/[\n\t]/g," "),n=0,i=r.length;i>n;n++)a=a.replace(" "+r[n]+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}else e.className=""}return e},s=function(e){var r={left:0,top:0,width:e.width||e.offsetWidth||0,height:e.height||e.offsetHeight||0,zIndex:9999},a=t(e,"zIndex");for(a&&"auto"!=a&&(r.zIndex=parseInt(a,10));e;){var n=parseInt(t(e,"borderLeftWidth"),10),i=parseInt(t(e,"borderTopWidth"),10);r.left+=isNaN(e.offsetLeft)?0:e.offsetLeft,r.left+=isNaN(n)?0:n,r.top+=isNaN(e.offsetTop)?0:e.offsetTop,r.top+=isNaN(i)?0:i,e=e.offsetParent}return r},l=function(e){return(e.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},c=function(e){var t=[];return e.trustedDomains&&("string"==typeof e.trustedDomains?t.push("trustedDomain="+e.trustedDomains):t.push("trustedDomain="+e.trustedDomains.join(","))),t.join("&")},u=function(e,t){if(t.indexOf)return t.indexOf(e);for(var r=0,a=t.length;a>r;r++)if(t[r]===e)return r;return-1},d=function(e){if("string"==typeof e)throw new TypeError("ZeroClipboard doesn't accept query strings.");return e.length?e:[e]},h=function(e,t){if(e&&(h.prototype._singleton||this).glue(e),h.prototype._singleton)return h.prototype._singleton;h.prototype._singleton=this,this.options={};for(var r in f)this.options[r]=f[r];for(var a in t)this.options[a]=t[a];this.handlers={},h.detectFlashSupport()&&m()},p=[];h.prototype.setCurrent=function(r){e=r,this.reposition(),r.getAttribute("title")&&this.setTitle(r.getAttribute("title")),this.setHandCursor("pointer"==t(r,"cursor"))},h.prototype.setText=function(e){e&&""!==e&&(this.options.text=e,this.ready()&&this.flashBridge.setText(e))},h.prototype.setTitle=function(e){e&&""!==e&&this.htmlBridge.setAttribute("title",e)},h.prototype.setSize=function(e,t){this.ready()&&this.flashBridge.setSize(e,t)},h.prototype.setHandCursor=function(e){this.ready()&&this.flashBridge.setHandCursor(e)},h.version="1.1.7";var f={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};h.setDefaults=function(e){for(var t in e)f[t]=e[t]},h.destroy=function(){h.prototype._singleton.unglue(p);var e=h.prototype._singleton.htmlBridge;e.parentNode.removeChild(e),delete h.prototype._singleton},h.detectFlashSupport=function(){var e=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(e=!0)}catch(t){navigator.mimeTypes["application/x-shockwave-flash"]&&(e=!0)}return e};var m=function(){var e=h.prototype._singleton,t=document.getElementById("global-zeroclipboard-html-bridge");if(!t){var r='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+e.options.moviePath+l(e.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+e.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+c(e.options)+'"/>         <embed src="'+e.options.moviePath+l(e.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+c(e.options)+'"           scale="exactfit">         </embed>       </object>';t=document.createElement("div"),t.id="global-zeroclipboard-html-bridge",t.setAttribute("class","global-zeroclipboard-container"),t.setAttribute("data-clipboard-ready",!1),t.style.position="absolute",t.style.left="-9999px",t.style.top="-9999px",t.style.width="15px",t.style.height="15px",t.style.zIndex="9999",t.innerHTML=r,document.body.appendChild(t)}e.htmlBridge=t,e.flashBridge=document["global-zeroclipboard-flash-bridge"]||t.children[0].lastElementChild};h.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),o(e,this.options.activeClass),e=null,this.options.text=null},h.prototype.ready=function(){var e=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===e||e===!0},h.prototype.reposition=function(){if(!e)return!1;var t=s(e),r=$(e).hasClass("pullright")?$(".form-horizontal").scrollTop():0;this.htmlBridge.style.top=t.top-r+"px",this.htmlBridge.style.left=t.left+"px",this.htmlBridge.style.width=t.width+"px",this.htmlBridge.style.height=t.height+"px",this.htmlBridge.style.zIndex=t.zIndex+1,this.setSize(t.width,t.height)},h.dispatch=function(e,t){h.prototype._singleton.receiveEvent(e,t)},h.prototype.on=function(e,t){for(var r=(""+e).split(/\s/g),a=0;r.length>a;a++)e=r[a].toLowerCase().replace(/^on/,""),this.handlers[e]||(this.handlers[e]=t);this.handlers.noflash&&!h.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},h.prototype.addEventListener=h.prototype.on,h.prototype.off=function(e,t){for(var r=(""+e).split(/\s/g),a=0;r.length>a;a++){e=r[a].toLowerCase().replace(/^on/,"");for(var n in this.handlers)n===e&&this.handlers[n]===t&&delete this.handlers[n]}},h.prototype.removeEventListener=h.prototype.off,h.prototype.receiveEvent=function(t,r){t=(""+t).toLowerCase().replace(/^on/,"");var a=e;switch(t){case"load":if(r&&10>parseFloat(r.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,"")))return this.receiveEvent("onWrongFlash",{flashVersion:r.flashVersion}),void 0;this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":i(a,this.options.hoverClass);break;case"mouseout":o(a,this.options.hoverClass),this.resetBridge();break;case"mousedown":i(a,this.options.activeClass);break;case"mouseup":o(a,this.options.activeClass);break;case"datarequested":var n=a.getAttribute("data-clipboard-target"),s=n?document.getElementById(n):null;if(s){var l=s.value||s.textContent||s.innerText;l&&this.setText(l)}else{var c=a.getAttribute("data-clipboard-text");c&&this.setText(c)}break;case"complete":this.options.text=null}if(this.handlers[t]){var u=this.handlers[t];"function"==typeof u?u.call(a,this,r):"string"==typeof u&&window[u].call(a,this,r)}},h.prototype.glue=function(e){e=d(e);for(var t=0;e.length>t;t++)-1==u(e[t],p)&&(p.push(e[t]),a(e[t],"mouseover",r))},h.prototype.unglue=function(e){e=d(e);for(var t=0;e.length>t;t++){n(e[t],"mouseover",r);var a=u(e[t],p);-1!=a&&p.splice(a,1)}},"undefined"!=typeof module?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):window.ZeroClipboard=h}(),function(e){var t=e.Preview||{};e.vars.previewDefaults={showAdvancedOptions:!1,includeKalturaLinks:!e.vars.ignore_seo_links,includeSeoMetadata:!e.vars.ignore_entry_seo,deliveryType:e.vars.default_delivery_type,embedType:e.vars.default_embed_code_type,secureEmbed:e.vars.embed_code_protocol_https},"https:"==window.location.protocol&&(e.vars.previewDefaults.secureEmbed=!0),t.storageName="previewDefaults",t.el="#previewModal",t.iframeContainer="previewIframe",t.ignoreChangeEvents=!0,t.getGenerator=function(){return this.generator||(this.generator=new kEmbedCodeGenerator({host:e.vars.embed_host,securedHost:e.vars.embed_host_https,partnerId:e.vars.partner_id,includeKalturaLinks:e.vars.previewDefaults.includeKalturaLinks})),this.generator},t.clipboard=new ZeroClipboard($(".copy-code"),{moviePath:"/lib/flash/ZeroClipboard.swf",trustedDomains:["*"],allowScriptAccess:"always"}),t.clipboard.on("complete",function(){var e=$(this);$("#"+e.data("clipboard-target")).select(),e.data("close")===!0&&t.closeModal(t.el)}),t.objectToArray=function(e){var t=[];for(var r in e)e[r].id=r,t.push(e[r]);return t},t.getObjectById=function(e,t){var r=$.grep(t,function(t){return t.id==e});return r.length?r[0]:!1},t.getDefault=function(r){var a=localStorage.getItem(t.storageName);return a=a?JSON.parse(a):e.vars.previewDefaults,void 0!==a[r]?a[r]:null},t.savePreviewState=function(){var e=this.Service,r={embedType:e.get("embedType"),secureEmbed:e.get("secureEmbed"),includeSeoMetadata:e.get("includeSeo"),deliveryType:e.get("deliveryType").id,showAdvancedOptions:e.get("showAdvancedOptions")};localStorage.setItem(t.storageName,JSON.stringify(r))},t.getDeliveryTypeFlashVars=function(e){if(!e)return{};var t=e.flashvars?e.flashvars:{},r=$.extend({},t);return e.streamerType&&(r.streamerType=e.streamerType),e.mediaProtocol&&(r.mediaProtocol=e.mediaProtocol),r},t.getPreviewTitle=function(e){return e.entryMeta&&e.entryMeta.name?"Embedding: "+e.entryMeta.name:e.playlistName?"Playlist: "+e.playlistName:e.playerOnly?"Player Name:"+e.name:void 0},t.openPreviewEmbed=function(t,r){var a=this,n=a.el;this.ignoreChangeEvents=!1;var i={entryId:null,entryMeta:{},playlistId:null,playlistName:null,previewOnly:null,liveBitrates:null,playerOnly:!1,uiConfId:null,name:null};t=$.extend({},i,t),r.disableEvents(),t.liveBitrates?(r.set("live",!0),r.setDeliveryType("auto")):r.set("live",!1),r.updatePlayers(t),r.enableEvents(),r.set(t);var o=this.getPreviewTitle(t),s=$(n);s.find(".title h2").text(o).attr("title",o),s.find(".close").unbind("click").click(function(){a.closeModal(n)});var l=$("body").height()-173;s.find(".content").height(l),e.layout.modal.show(n,!1)},t.closeModal=function(t){this.savePreviewState(),this.emptyDiv(this.iframeContainer),$(t).fadeOut(300,function(){e.layout.overlay.hide(),e.utils.hideFlash()})},t.emptyDiv=function(e){var t=$("#"+e),r=$("#previewIframe iframe");if(r.length)try{var a=$(r[0].contentWindow.document);a.find("#framePlayerContainer").empty()}catch(n){}return t.length?(t.empty(),t[0]):!1},t.hasIframe=function(){return $("#"+this.iframeContainer+" iframe").length},t.getCacheSt=function(){var e=new Date;return Math.floor(e.getTime()/1e3)+900},t.generateIframe=function(e){var t=$("html").hasClass("lt-ie10"),r=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,a="<style>html, body {margin: 0; padding: 0; width: 100%; height: 100%; } #framePlayerContainer {margin: 0 auto; padding-top: 20px; text-align: center; } object, div { margin: 0 auto; }</style>",n=this.emptyDiv(this.iframeContainer),i=document.createElement("iframe");if(i.frameborder="0",i.frameBorder="0",i.marginheight="0",i.marginwidth="0",i.frameborder="0",i.setAttribute("allowFullScreen",""),i.setAttribute("webkitallowfullscreen",""),i.setAttribute("mozallowfullscreen",""),n.appendChild(i),t||r)i.src=this.getPreviewUrl(this.Service,!0);else{var o=i.contentDocument;o.open(),o.write("<!doctype html><html><head>"+a+'</head><body><div id="framePlayerContainer">'+e+"</div></body></html>"),o.close()}},t.getEmbedProtocol=function(e,t){return t===!0?location.protocol.substring(0,location.protocol.length-1):e.get("secureEmbed")?"https":"http"},t.getEmbedFlashVars=function(t,r){var a=this.getEmbedProtocol(t,r),n=t.get("player"),i=this.getDeliveryTypeFlashVars(t.get("deliveryType"));r===!0&&(i.ks=e.vars.ks,1==t.get("live")&&(i.disableEntryRedirect=!0),i.liveAnalytics={plugin:"false",relativeTo:"PlayerHolder",position:"after",loadingPolicy:"onDemand"});var o=t.get("playlistId");if(o){var s=e.functions.getVersionFromPath(n.html5Url),l=e.functions.versionIsAtLeast(e.vars.min_kdp_version_for_playlist_api_v3,n.swf_version),c=e.functions.versionIsAtLeast(e.vars.min_html5_version_for_playlist_api_v3,s);l&&c?i["playlistAPI.kpl0Id"]=o:(i["playlistAPI.autoInsert"]="true",i["playlistAPI.kpl0Name"]=t.get("playlistName"),i["playlistAPI.kpl0Url"]=a+"://"+e.vars.api_host+"/index.php/partnerservices2/executeplaylist?"+"partner_id="+e.vars.partner_id+"&subp_id="+e.vars.partner_id+"00"+"&format=8&ks={ks}&playlist_id="+o)}return i},t.getEmbedCode=function(e,t){var r=e.get("player");if(!r||!e.get("embedType"))return"";var a=this.getCacheSt(),n={protocol:this.getEmbedProtocol(e,t),embedType:e.get("embedType"),uiConfId:r.id,width:r.width,height:r.height,entryMeta:e.get("entryMeta"),includeSeoMetadata:e.get("includeSeo"),playerId:"kaltura_player_"+a,cacheSt:a,flashVars:this.getEmbedFlashVars(e,t)};e.get("entryId")&&(n.entryId=e.get("entryId"));var i=this.getGenerator().getCode(n);return i},t.getPreviewUrl=function(t,r){var a=t.get("player");if(!a||!t.get("embedType"))return"";var n=this.getEmbedProtocol(t,r),i=n+"://"+e.vars.api_host+"/index.php/extwidget/preview";return i+="/partner_id/"+e.vars.partner_id,i+="/uiconf_id/"+a.id,t.get("entryId")&&(i+="/entry_id/"+t.get("entryId")),i+="/embed/"+t.get("embedType"),i+="?"+e.functions.flashVarsToUrl(this.getEmbedFlashVars(t,r)),r===!0&&(i+="&framed=true"),i},t.generateQrCode=function(e){var t=$("#qrcode").empty();e&&($("html").hasClass("lt-ie9")||t.qrcode({width:80,height:80,text:e}))},t.generateShortUrl=function(t,r){t&&e.client.createShortURL(t,r)},e.Preview=t}(window.kmc);var kmcApp=angular.module("kmcApp",["pascalprecht.translate"]);kmcApp.config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"/locales/locale-",suffix:".json"});var t="en";"unknown"!=typeof localStorage&&localStorage.lang!==void 0&&(t=localStorage.lang),t.length>2&&(t=t.toLowerCase().substr(0,2)),e.preferredLanguage(t)}]),kmcApp.factory("previewService",["$rootScope",function(e){var t={},r=0;return{get:function(e){return void 0===e?t:t[e]},set:function(a,n,i){"object"==typeof a?angular.extend(t,a):t[a]=n,i||0!==r||e.$broadcast("previewChanged")},enableEvents:function(){r--},disableEvents:function(){r++},updatePlayers:function(t){e.$broadcast("playersUpdated",t)},changePlayer:function(t){e.$broadcast("changePlayer",t)},setDeliveryType:function(t){e.$broadcast("changeDelivery",t)}}}]),kmcApp.directive("showSlide",function(){return{restrict:"A",link:function(e,t,r){r.showSlide,e.$watch(r.showSlide,function(e){e&&!t.is(":visible")?t.slideDown():t.slideUp()})}}}),kmcApp.controller("PreviewCtrl",["$scope","$translate","previewService",function(e,t,r){var a=function(){e.$$phase||e.$apply()},n=kmc.Preview;n.playlistMode=!1,n.Service=r;var i=function(t){t=t||{};var r=t.uiConfId?t.uiConfId:void 0;if(kmc.vars.playlists_list||kmc.vars.players_list){if(t.playlistId||t.playerOnly){if(e.players=kmc.vars.playlists_list,!n.playlistMode)return n.playlistMode=!0,e.$broadcast("changePlayer",r),void 0}else if(e.players=kmc.vars.players_list,n.playlistMode||!e.player)return n.playlistMode=!1,e.$broadcast("changePlayer",r),void 0;r&&e.$broadcast("changePlayer",r)}},o=function(t){r.setDeliveryType("auto");var a=n.objectToArray(kmc.vars.delivery_types),i=e.deliveryType||n.getDefault("deliveryType"),o=[];$.each(a,function(){return this.minVersion&&!kmc.functions.versionIsAtLeast(this.minVersion,t.swf_version)?(this.id==i&&(i=null),!0):(o.push(this),void 0)}),e.deliveryTypes=o,i||(i=e.deliveryTypes[0].id),r.setDeliveryType(i)},s=function(t){var r=n.objectToArray(kmc.vars.embed_code_types),a=e.embedType||n.getDefault("embedType"),i=[];$.each(r,function(){if(n.playlistMode&&this.entryOnly)return this.id==a&&(a=null),!0;var e=kmc.functions.getVersionFromPath(t.html5Url);return this.minVersion&&!kmc.functions.versionIsAtLeast(this.minVersion,e)||"2"==e[0]&&"legacy"==this.id?(this.id==a&&(a=null),!0):(i.push(this),void 0)}),e.embedTypes=i,a||(a=e.embedTypes[0].id),e.embedType=a};e.players=[],e.player=null,e.deliveryTypes=[],e.deliveryType=null,e.embedTypes=[],e.embedType=null,e.secureEmbed=n.getDefault("secureEmbed"),e.includeSeo=n.getDefault("includeSeoMetadata"),e.previewOnly=null,e.playerOnly=!1,e.liveBitrates=!1,e.showAdvancedOptionsStatus=n.getDefault("showAdvancedOptions"),e.shortLinkGenerated=!1,e.$on("playersUpdated",function(e,t){i(t)}),e.$on("changePlayer",function(t,r){(r||void 0===r&&e.players&&e.players.length)&&(r=r?r:e.players[0].id,e.player=r,a())}),e.$on("changeDelivery",function(t,r){e.deliveryType=r,a()}),e.showAdvancedOptions=function(t,a){t.preventDefault(),r.set("showAdvancedOptions",a,!0),e.showAdvancedOptionsStatus=a},e.$watch("showAdvancedOptionsStatus",function(){n.clipboard.reposition()
}),e.$watch("player",function(){var t=n.getObjectById(e.player,e.players);t&&(r.disableEvents(),o(t),s(t),setTimeout(function(){r.enableEvents(),r.set("player",t)},0))}),e.$watch("deliveryType",function(){var t=n.getObjectById(e.deliveryType,e.deliveryTypes);r.set("deliveryType",t),"hds"===t.id&&(e.secureEmbed=!1)}),e.$watch("embedType",function(){r.set("embedType",e.embedType)}),e.$watch("secureEmbed",function(){r.set("secureEmbed",e.secureEmbed)}),e.$watch("includeSeo",function(){r.set("includeSeo",e.includeSeo)}),e.$watch("embedCodePreview",function(){n.generateIframe(e.embedCodePreview)}),e.$watch("previewOnly",function(){e.closeButtonText=e.previewOnly?t("CLOSE"):t("COPY_AND_CLOSE"),a()}),e.$on("previewChanged",function(){if(!n.ignoreChangeEvents){var i=n.getPreviewUrl(r);e.embedCode=n.getEmbedCode(r),e.embedCodePreview=n.getEmbedCode(r,!0),e.previewOnly=r.get("previewOnly"),e.playerOnly=r.get("playerOnly"),e.liveBitrates=r.get("liveBitrates"),a(),n.hasIframe()||n.generateIframe(e.embedCodePreview),e.previewUrl=t("UPDATING"),e.shortLinkGenerated=!1,n.generateShortUrl(i,function(t){t||(t=i),e.shortLinkGenerated=!0,e.previewUrl=t,n.generateQrCode(t),a()})}})}]),0==kmc.vars.allowFrame&&top!=window&&(top.location=window.location),kmc.vars.debug=!1,kmc.vars.quickstart_guide="/content/docs/pdf/KMC_User_Manual.pdf",kmc.vars.help_url=kmc.vars.service_url+"/kmc5help.html",kmc.vars.port=window.location.port?":"+window.location.port:"",kmc.vars.base_host=window.location.hostname+kmc.vars.port,kmc.vars.base_url=window.location.protocol+"//"+kmc.vars.base_host,kmc.vars.api_host=kmc.vars.host,kmc.vars.api_url=window.location.protocol+"//"+kmc.vars.api_host,kmc.vars.min_kdp_version_for_playlist_api_v3="3.6.15",kmc.vars.min_html5_version_for_playlist_api_v3="1.7.1.3",kmc.log=function(){if(kmc.vars.debug&&"undefined"!=typeof console&&console.log)if(1==arguments.length)console.log(arguments[0]);else{var e=Array.prototype.slice.call(arguments);console.log(e[0],e.slice(1))}},kmc.functions={loadSwf:function(e){var t=window.location.protocol+"//"+kmc.vars.cdn_host+"/flash/kmc/"+kmc.vars.kmc_version+"/kmc.swf",r={kmc_uiconf:kmc.vars.kmc_general_uiconf,permission_uiconf:kmc.vars.kmc_permissions_uiconf,host:kmc.vars.host,cdnhost:kmc.vars.cdn_host,srvurl:"api_v3/index.php",protocol:window.location.protocol+"//",partnerid:kmc.vars.partner_id,subpid:kmc.vars.partner_id+"00",ks:kmc.vars.ks,entryId:"-1",kshowId:"-1",debugmode:"true",widget_id:"_"+kmc.vars.partner_id,urchinNumber:kmc.vars.google_analytics_account,firstLogin:kmc.vars.first_login,openPlayer:"kmc.preview_embed.doPreviewEmbed",openPlaylist:"kmc.preview_embed.doPreviewEmbed",openCw:"kmc.functions.openKcw",maxUploadSize:"2047",language:e};kmc.vars.disable_analytics&&(r.disableAnalytics=!0);var a={allowNetworking:"all",allowScriptAccess:"always"};swfobject.embedSWF(t,"kcms","100%","100%","10.0.0",!1,r,a),$("#kcms").attr("style","")},checkForOngoingProcess:function(){var e;try{e=$("#kcms")[0].hasOngoingProcess()}catch(t){e=null}return null!==e?e:void 0},expired:function(){kmc.user.logout()},openKcw:function(e,t){e=e||"";var r="uploadWebCam"==t?kmc.vars.kcw_webcam_uiconf:kmc.vars.kcw_import_uiconf,a={host:kmc.vars.host,cdnhost:kmc.vars.cdn_host,protocol:window.location.protocol.slice(0,-1),partnerid:kmc.vars.partner_id,subPartnerId:kmc.vars.partner_id+"00",sessionId:kmc.vars.ks,devFlag:"true",entryId:"-1",kshow_id:"-1",terms_of_use:kmc.vars.terms_of_use,close:"kmc.functions.onCloseKcw",quick_edit:0,kvar_conversionQuality:e},n={allowscriptaccess:"always",allownetworking:"all",bgcolor:"#DBE3E9",quality:"high",movie:kmc.vars.service_url+"/kcw/ui_conf_id/"+r};kmc.layout.modal.open({width:700,height:420,content:'<div id="kcw"></div>'}),swfobject.embedSWF(n.movie,"kcw","680","400","9.0.0",!1,a,n)},onCloseKcw:function(){kmc.layout.modal.close(),$("#kcms")[0].gotoPage({moduleName:"content",subtab:"manage"})},openChangePwd:function(){kmc.user.changeSetting("password")},openChangeEmail:function(){kmc.user.changeSetting("email")},openChangeName:function(){kmc.user.changeSetting("name")},getAddPanelPosition:function(){var e=$("#add").parent();return e.position().left+e.width()-10},openClipApp:function(e,t){var r=kmc.vars.base_url+"/apps/clipapp/"+kmc.vars.clipapp.version;r+="/?kdpUiconf="+kmc.vars.clipapp.kdp+"&kclipUiconf="+kmc.vars.clipapp.kclip,r+="&partnerId="+kmc.vars.partner_id+"&host="+kmc.vars.host+"&mode="+t+"&config=kmc&entryId="+e;var a="trim"==t?"Trimming Tool":"Clipping Tool";kmc.layout.modal.open({width:950,height:616,title:a,content:'<iframe src="'+r+'" width="100%" height="586" frameborder="0"></iframe>',className:"iframe",closeCallback:function(){$("#kcms")[0].gotoPage({moduleName:"content",subtab:"manage"})}})},openStudio:function(){return kmc.utils.hideFlash(!0),kmc.utils.openIframe(kmc.vars.base_url+"/apps/studio/"+kmc.vars.studio.version+"/index.html"),!1},openLiveAnalytics:function(){return kmc.utils.hideFlash(!0),kmc.utils.openIframe(kmc.vars.base_url+"/apps/liveanalytics/"+kmc.vars.liveanalytics.version+"/index.html"),!1},openLiveAnalyticsDrilldown:function(e,t){var r=t?t:"",a=kmc.vars.base_url+"/apps/liveanalytics/"+kmc.vars.liveanalytics.version+"/index.html#/entry/"+e+"/nonav",n='<iframe id="liveIF" src="'+a+'" width="100%" height="100%" frameborder="0"></iframe>';kmc.layout.modal.open({width:1040,height:"90%",title:r,content:n,contentHeight:"94%"})},flashVarsToUrl:function(e){var t="";for(var r in e){var a="object"==typeof e[r]?JSON.stringify(e[r]):e[r];t+="&flashvars["+encodeURIComponent(r)+"]="+encodeURIComponent(a)}return t},versionIsAtLeast:function(e,t){if(!t||!e)return!1;e=e.replace(/[^\d.]/g,""),t=t.replace(/[^\d.]/g,"");for(var r=e.split("."),a=t.split("."),n=0;r.length>n;n++){if(parseInt(a[n])>parseInt(r[n]))return!0;if(parseInt(a[n])<parseInt(r[n]))return!1}return!0},getVersionFromPath:function(e){return"string"==typeof e?e.split("/v")[1].split("/")[0]:!1}},kmc.utils={closeModal:function(){kmc.layout.modal.close()},handleMenu:function(){kmc.utils.activateHeader();var e=10;$("#user_links > *").each(function(){e+=$(this).width()});var t=function(){kmc.vars.close_menu=!0;var t={width:0,visibility:"visible",top:"6px",right:"29px"},r={width:e+"px","padding-top":"2px","padding-bottom":"2px"};$("#user_links").css(t),$("#user_links").animate(r,500)};$("#user").hover(t).click(t),$("#user_links").mouseover(function(){kmc.vars.close_menu=!1}),$("#user_links").mouseleave(function(){kmc.vars.close_menu=!0,setTimeout(kmc.utils.closeMenu,650)}),$("#closeMenu").click(function(){kmc.vars.close_menu=!0,kmc.utils.closeMenu()})},closeMenu:function(){kmc.vars.close_menu&&$("#user_links").animate({width:0},500,function(){$("#user_links").css({width:"auto",visibility:"hidden"})})},activateHeader:function(){$("#user_links a").click(function(e){var t="A"==e.target.tagName?e.target.id:$(e.target).parent().attr("id");switch(t){case"Quickstart Guide":return this.href=kmc.vars.quickstart_guide,!0;case"Logout":return kmc.user.logout(),!1;case"Support":return kmc.user.openSupport(this),!1;case"ChangePartner":return kmc.user.changePartner(),!1}})},resize:function(){var e=$.browser.ie?640:590,t=$(window).height()-44;e>t&&(t=e),("visible"==$("#flash_wrap").css("visibility")||"inherit"==$("#flash_wrap").css("visibility"))&&($("#flash_wrap").height(t),$("#kcms").height(t)),kmc.utils.kmcHeight=t,$("#server_wrap iframe").height(t-2)},isModuleLoaded:function(){($("#flash_wrap object").length||$("#flash_wrap embed").length)&&(kmc.utils.resize(),clearInterval(kmc.vars.isLoadedInterval),kmc.vars.isLoadedInterval=null)},debug:function(){try{console.info(" ks: ",kmc.vars.ks),console.info(" partner_id: ",kmc.vars.partner_id)}catch(e){}},maskHeader:function(e){e?$("#mask").hide():$("#mask").show()},createTabs:function(e){if($("#closeMenu").trigger("click"),e){for(var t,r=kmc.vars.service_url+"/index.php/kmc/kmc4",a=e.length,n="",i=0;a>i;i++)t="action"==e[i].type?'class="menu" ':"",("fr_FR"==localStorage.lang||"ja_JP"==localStorage.lang)&&(t=""),n+='<li><a id="'+e[i].module_name+'" '+t+' rel="'+e[i].subtab+'" href="'+r+"#"+e[i].module_name+"|"+e[i].subtab+'"><span>'+e[i].display_name+"</span></a></li>";$("#hTabs").html(n);var o=$("body").width()-($("#logo").width()+$("#hTabs").width()+100);$("#user").width()+20>o&&$("#user").width(o),$("#hTabs a").click(function(e){if(window.studioDataChanged===!0){var t=confirm("You are about to leave this page without saving.\nContinue?");if(t!==!0)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),void 0;window.studioDataChanged=!1}var r="A"==e.target.tagName?e.target.id:$(e.target).parent().attr("id"),a="A"==e.target.tagName?$(e.target).attr("rel"):$(e.target).parent().attr("rel"),n={moduleName:r,subtab:a};return kmc.utils.verifyUploadVisible(n.moduleName)||$("#kcms")[0].gotoPage(n),!1})}else alert("Error getting tabs")},verifyUploadVisible:function(e){if("add"==e&&"block"==$("#server_wrap").css("display")){var t=confirm("Close this page to upload files.\nClose now?");return 1==t&&($("#kcms")[0].gotoPage({moduleName:"content",subtab:"manage"}),$("#kcms")[0].gotoPage({moduleName:"add"})),!0}return!1},setTab:function(e,t){t&&$("#kmcHeader ul li a").removeClass("active"),$("a#"+e).addClass("active")},resetTab:function(e){$("a#"+e).removeClass("active")},kmcHeight:$("#flash_wrap").height(),hideFlash:function(e){var t=$("html").hasClass("lt-ie9");e?t?$("#flash_wrap").css("margin-right","3333px"):($("#flash_wrap").css("visibility","hidden"),$("#flash_wrap").height()>0&&(this.kmcHeight=$("#flash_wrap").height()),$("#flash_wrap").height(0)):t?$("#flash_wrap").css("margin-right","0"):($("#flash_wrap").css("visibility","visible"),$("#flash_wrap").height(this.kmcHeight))},showFlash:function(){if($("#server_wrap").hide(),$("#server_frame").removeAttr("src"),!kmc.layout.modal.isOpen()){$("#flash_wrap").css("visibility","visible"),this.kmcHeight>0&&$("#flash_wrap").height(this.kmcHeight);var e=$("html").hasClass("lt-ie9");e&&$("#flash_wrap").css("margin-right","0")}$("#server_wrap").css("margin-top",0)},openIframe:function(e){$("#server_frame").attr("src",e),$("#server_wrap").css("margin-top","-"+($("#flash_wrap").height()+2)+"px"),$("#server_wrap").show()},openHelp:function(e){$("#kcms")[0].doHelp(e)},setClientIP:function(){kmc.vars.clientIP="",kmc.vars.akamaiEdgeServerIpURL&&$.ajax({url:window.location.protocol+"//"+kmc.vars.akamaiEdgeServerIpURL,crossDomain:!0,success:function(e){kmc.vars.clientIP=$(e).find("serverip").text()}})},getClientIP:function(){return kmc.vars.clientIP}},kmc.mediator={writeUrlHash:function(e,t){location.hash=e+"|"+t,document.title="KMC > "+e+(t&&""!==t?" > "+t+" |":"")},readUrlHash:function(){var e,t,r="dashboard",a="",n={};try{e=location.hash.split("#")[1].split("|")}catch(i){t=!0}if(!t&&""!==e[0]){if(r=e[0],a=e[1],e[2])for(var o=e[2].split("&"),s=0;o.length>s;s++){var l=o[s].split(":");n[l[0]]=l[1]}switch(r){case"content":switch(a){case"Moderate":a="moderation";break;case"Syndicate":a="syndication"}a=a.toLowerCase();break;case"appstudio":r="studio",a="playersList";break;case"Settings":switch(r="account",a){case"Account_Settings":a="overview";break;case"Integration Settings":a="integration";break;case"Access Control":a="accessControl";break;case"Transcoding Settings":a="transcoding";break;case"Account Upgrade":a="upgrade"}break;case"reports":r="analytics","Bandwidth Usage Reports"==a&&(a="usageTabTitle")}}return{moduleName:r,subtab:a,extra:n}}},kmc.preview_embed={doPreviewEmbed:function(e,t,r,a,n,i,o,s,l){var c={previewOnly:a};i&&(c.uiConfId=parseInt(i)),n?"multitab_playlist"==e?(c.playerOnly=!0,c.name=t):(c.playlistId=e,c.playlistName=t):(c.entryId=e,c.entryMeta={name:t,description:r,duration:s,thumbnailUrl:l},o&&(c.liveBitrates=o)),kmc.Preview.openPreviewEmbed(c,kmc.Preview.Service)},doFlavorPreview:function(e,t,r){var a=kmc.vars.default_kdp,n=kmc.Preview.getGenerator().getCode({protocol:location.protocol.substring(0,location.protocol.length-1),embedType:"legacy",entryId:e,uiConfId:parseInt(a.id),width:a.width,height:a.height,includeSeoMetadata:!1,includeHtml5Library:!1,flashVars:{ks:kmc.vars.ks,flavorId:r.asset_id}}),i='<div class="center">'+n+"</div><dl>"+"<dt>Entry Name:</dt><dd>&nbsp;"+t+"</dd>"+"<dt>Entry Id:</dt><dd>&nbsp;"+e+"</dd>"+"<dt>Flavor Name:</dt><dd>&nbsp;"+r.flavor_name+"</dd>"+"<dt>Flavor Asset Id:</dt><dd>&nbsp;"+r.asset_id+"</dd>"+"<dt>Bitrate:</dt><dd>&nbsp;"+r.bitrate+"</dd>"+"<dt>Codec:</dt><dd>&nbsp;"+r.codec+"</dd>"+"<dt>Dimensions:</dt><dd>&nbsp;"+r.dimensions.width+" x "+r.dimensions.height+"</dd>"+"<dt>Format:</dt><dd>&nbsp;"+r.format+"</dd>"+"<dt>Size (KB):</dt><dd>&nbsp;"+r.sizeKB+"</dd>"+"<dt>Status:</dt><dd>&nbsp;"+r.status+"</dd>"+"</dl>";kmc.layout.modal.open({width:parseInt(a.width)+120,height:parseInt(a.height)+300,title:"Flavor Preview",content:'<div id="preview_embed">'+i+"</div>"})},updateList:function(e){var t=e?"playlist":"player";$.ajax({url:kmc.vars.base_url+kmc.vars.getuiconfs_url,type:"POST",data:{type:t,partner_id:kmc.vars.partner_id,ks:kmc.vars.ks},dataType:"json",success:function(t){t&&t.length&&(e?kmc.vars.playlists_list=t:kmc.vars.players_list=t,kmc.Preview.Service.updatePlayers())}})}},kmc.client={makeRequest:function(e,t,r,a){var n=kmc.vars.api_url+"/api_v3/index.php?service="+e+"&action="+t,i={ks:kmc.vars.ks,format:9};$.extend(r,i);var o=function(e){var t=[],r=[],a=0;for(var n in e)r[a++]=n+"|"+e[n];r=r.sort();for(var i=0;r.length>i;i++){var o=r[i].split("|");t[o[0]]=o[1]}return t},s=function(e){e=o(e);var t="";for(var r in e){var a=e[r];t+=a+r}return md5(t)},l=s(r);n+="&kalsig="+l,$.ajax({type:"GET",url:n,dataType:"jsonp",data:r,cache:!1,success:a})},createShortURL:function(e,t){kmc.log("createShortURL");var r={"shortLink:objectType":"KalturaShortLink","shortLink:systemName":"KMC-PREVIEW","shortLink:fullUrl":e};kmc.client.makeRequest("shortlink_shortlink","add",r,function(e){var r=!1;t?(e.id&&(r=kmc.vars.service_url+"/tiny/"+e.id),t(r)):kmc.preview_embed.setShortURL(e.id)})}},kmc.layout={init:function(){$("#kmcHeader").bind("click",function(){$("#hTabs a").each(function(e,t){var r=$(t);return r.hasClass("menu")&&r.hasClass("active")?($("#kcms")[0].gotoPage({moduleName:r.attr("id"),subtab:r.attr("rel")}),void 0):!0})}),$("body").append('<div id="mask"></div><div id="overlay"></div><div id="modal" class="modal"><div class="title"><h2></h2><span class="close icon"></span></div><div class="content"></div></div>')},overlay:{show:function(){$("#overlay").show()},hide:function(){$("#overlay").hide()}},modal:{el:"#modal",create:function(e){var t={el:kmc.layout.modal.el,title:"",content:"",help:"",width:680,height:"auto",className:"",contentHeight:"auto"};$.extend(t,e);var r=$(t.el),a=r.find(".title h2"),n=r.find(".content");return n.height(t.contentHeight),t.className="modal "+t.className,r.css({width:t.width,height:t.height}).attr("class",t.className),t.title?a.text(t.title).attr("title",t.title).parent().show():(a.parent().hide(),n.addClass("flash_only")),r.find(".help").remove(),a.parent().append(t.help),n[0].innerHTML=t.content,r.find(".close").click(function(){kmc.layout.modal.close(t.el),$.isFunction(e.closeCallback)&&e.closeCallback()}),r},show:function(e,t){t=void 0===t?!0:t,e=e||kmc.layout.modal.el;var r=$(e);kmc.utils.hideFlash(!0),kmc.layout.overlay.show(),r.fadeIn(600),$.browser.msie||r.css("display","block"),t&&this.position(e)},open:function(e){this.create(e);var t=e.el||kmc.layout.modal.el;this.show(t)},position:function(e){e=e||kmc.layout.modal.el;var t=$(e),r=($(window).height()-t.height())/2,a=($(window).width()-t.width())/(2+$(window).scrollLeft());r=40>r?40:r,t.css({top:r+"px",left:a+"px"})},close:function(e){e=e||kmc.layout.modal.el,$(e).fadeOut(300,function(){$(e).find(".content").html(""),kmc.layout.overlay.hide(),kmc.utils.hideFlash()})},isOpen:function(e){return e=e||kmc.layout.modal.el,$(e).is(":visible")}}},kmc.user={openSupport:function(e){var t=e.href;this.kmcHeight=$("#flash_wrap").height(),kmc.utils.hideFlash(!0),kmc.layout.overlay.show();var r='<iframe id="support" src="'+t+'" width="100%" scrolling="no" frameborder="0"></iframe>';kmc.layout.modal.create({width:550,title:"Support Request",content:r}),$("#support").load(function(){kmc.layout.modal.show(),kmc.vars.support_frame_height||(kmc.vars.support_frame_height=$("#support")[0].contentWindow.document.body.scrollHeight),$("#support").height(kmc.vars.support_frame_height),kmc.layout.modal.position()})},logout:function(){var e=kmc.functions.checkForOngoingProcess();if(e)return alert(e),!1;var t=kmc.mediator.readUrlHash();$.ajax({url:kmc.vars.base_url+"/index.php/kmc/logout",type:"POST",data:{ks:kmc.vars.ks},dataType:"json",complete:function(){window.location=kmc.vars.logoutUrl?kmc.vars.logoutUrl:kmc.vars.service_url+"/index.php/kmc/kmc#"+t.moduleName+"|"+t.subtab}})},changeSetting:function(e){var t,r;switch(e){case"password":t="Change Password",r=180;break;case"email":t="Change Email Address",r=160;break;case"name":t="Edit Name",r=200}var a=kmc.vars.kmc_secured||"https:"==location.protocol?"https":"http",n=a+"://"+window.location.hostname,i=n+kmc.vars.port+"/index.php/kmc/updateLoginData/type/"+e;i=i+"?parent="+encodeURIComponent(document.location.href);var o='<iframe src="'+i+'" width="100%" height="'+r+'" scrolling="no" frameborder="0"></iframe>';kmc.layout.modal.open({width:370,title:t,content:o}),XD.receiveMessage(function(e){kmc.layout.modal.close(),"reload"==e.data&&($.browser.msie&&8>$.browser.version&&(window.location.hash="account|user"),window.location.reload())},n)},changePartner:function(){var e,t,r,a=0,n=kmc.vars.allowed_partners.length,i='<div id="change_account"><span>Please choose partner:</span><div class="container">';for(e=0;n>e;e++)a=kmc.vars.allowed_partners[e].id,kmc.vars.partner_id==a?(t=' checked="checked"',r=' style="font-weight: bold"'):(t="",r=""),i+="<label"+r+'><input type="radio" name="pid" value="'+a+'" '+t+"/> &nbsp;"+kmc.vars.allowed_partners[e].name+"</label>";return i+='</div><div class="center"><button id="do_change_partner"><span>Continue</span></button></div>',kmc.layout.modal.open({width:300,title:"Change Account",content:i}),$("#do_change_partner").click(function(){var e=kmc.vars.base_url+"/index.php/kmc/extlogin",t=$("<input />").attr({type:"hidden",name:"ks",value:kmc.vars.ks}),r=$("<input />").attr({type:"hidden",name:"partner_id",value:$("input[name=pid]:radio:checked").val()}),a=$("<form />").attr({action:e,method:"post",style:"display: none"}).append(t,r);$("body").append(a),a[0].submit()}),!1}},$(function(){kmc.layout.init(),kmc.utils.handleMenu(),kmc.functions.loadSwf(window.lang),$(window).wresize(kmc.utils.resize),kmc.vars.isLoadedInterval=setInterval(kmc.utils.isModuleLoaded,200),kmc.preview_embed.updateList(),kmc.preview_embed.updateList(!0),kmc.utils.setClientIP()}),$(window).resize(function(){kmc.layout.modal.isOpen()&&kmc.layout.modal.position()}),window.onbeforeunload=kmc.functions.checkForOngoingProcess,function(e){e.fn.wresize=function(t){function r(){if(e.browser.msie)if(wresize.fired){var t=parseInt(e.browser.version,10);if(wresize.fired=!1,7>t)return!1;if(7==t){var r=e(window).width();if(r!=wresize.width)return wresize.width=r,!1}}else wresize.fired=!0;return!0}function a(e){return r()?t.apply(this,[e]):void 0}return version="1.1",wresize={fired:!1,width:0},this.each(function(){this==window?e(this).resize(a):e(this).resize(t)}),this}}(jQuery);var XD=function(){var e,t,r,a=1,n=this;return{postMessage:function(e,t,r){t&&(r=r||parent,n.postMessage?r.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(r.location=t.replace(/#.*$/,"")+"#"+ +new Date+a++ +"&"+e))},receiveMessage:function(a,i){n.postMessage?(a&&(r=function(e){return"string"==typeof i&&e.origin!==i||"[object Function]"===Object.prototype.toString.call(i)&&i(e.origin)===!1?!1:(a(e),void 0)}),n.addEventListener?n[a?"addEventListener":"removeEventListener"]("message",r,!1):n[a?"attachEvent":"detachEvent"]("onmessage",r)):(e&&clearInterval(e),e=null,a&&(e=setInterval(function(){var e=document.location.hash,r=/^#?\d+&/;e!==t&&r.test(e)&&(t=e,a({data:e.replace(r,"")}))},100)))}}}();